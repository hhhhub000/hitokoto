# ひとこと日記 Webアプリ要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
ひとこと日記（Hitokoto Diary）

### 1.2 コンセプト
その日の出来事や気持ちを、写真と一緒に一言だけ、手軽に記録できるシンプルな日記アプリ。

### 1.3 開発目的
- 日々の記録を継続しやすくするため、投稿の負担を最小限に抑える
- 写真と短いテキストで感情や出来事を簡潔に表現する
- シンプルなUIで誰でも使いやすいアプリケーションを提供する

## 2. 機能要件

### 2.1 日記の投稿機能

#### 役割
ユーザーが日々の出来事や気持ちを写真と一緒に一言で記録できる機能

#### 詳細仕様
- **テキスト入力**
  - 一言（140文字以内）のテキスト入力
  - 必須項目として設定
  - プレースホルダー表示で入力を促進

- **写真アップロード**
  - 1枚の写真をアップロード可能
  - 対応形式：JPEG, PNG, GIF
  - 最大ファイルサイズ：5MB
  - 写真は任意項目（テキストのみでも投稿可能）

- **投稿日時**
  - 自動的に現在の日時を記録
  - ユーザーによる日時の変更は不可

- **投稿ボタン**
  - 入力内容を確認後、データベースに保存
  - 投稿完了後は一覧画面へ遷移

### 2.2 投稿した日記の一覧表示機能

#### 役割
過去に投稿した日記を時系列で確認し、日々の記録を振り返ることができる機能

#### 詳細仕様
- **表示順序**
  - 投稿日時の新しい順で表示
  - ページネーション機能（1ページあたり10件表示）

- **表示項目**
  - 投稿日時（YYYY/MM/DD HH:MM形式）
  - 一言テキスト
  - 写真（投稿されている場合のみ）
  - サムネイル表示（写真は縮小表示）

- **操作機能**
  - 各投稿をクリックで詳細表示（モーダルまたは詳細ページ）
  - 投稿の削除機能
  - 投稿の編集機能（テキストのみ編集可能）

- **検索・フィルタ機能**
  - 日付範囲での絞り込み
  - キーワード検索（テキスト内容）

### 2.3 日記をデータベースに保存する機能

#### 役割
投稿された日記データを永続化し、安全に管理する機能

#### 詳細仕様
- **データモデル**
  - ID（主キー、自動生成）
  - テキスト内容（VARCHAR(140)、NOT NULL）
  - 写真ファイルパス（VARCHAR(255)、NULL許可）
  - 投稿日時（DATETIME、NOT NULL）
  - 作成日時（DATETIME、NOT NULL）
  - 更新日時（DATETIME、NOT NULL）

- **データベース操作**
  - CREATE：新規投稿の保存
  - READ：投稿一覧の取得、個別投稿の取得
  - UPDATE：投稿内容の更新（テキストのみ）
  - DELETE：投稿の削除

- **ファイル管理**
  - 写真ファイルはサーバーの専用ディレクトリに保存
  - ファイル名は一意になるよう生成（UUID + 拡張子）
  - 投稿削除時は関連する写真ファイルも削除

- **データ整合性**
  - トランザクション処理で確実な保存
  - バックアップ機能の実装
  - データベース接続エラー時の適切なエラーハンドリング

## 3. 非機能要件

### 3.1 パフォーマンス要件
- ページ読み込み時間：3秒以内
- 写真アップロード：30秒以内で完了
- 同時アクセス：10ユーザーまで対応

### 3.2 可用性要件
- システム稼働率：99%以上
- メンテナンス時間：月1回、2時間以内

### 3.3 セキュリティ要件
- SQLインジェクション対策
- XSS（クロスサイトスクリプティング）対策
- ファイルアップロードの安全性チェック

### 3.4 ユーザビリティ要件
- レスポンシブデザイン（PC、タブレット、スマートフォン対応）
- 直感的で分かりやすいユーザーインターフェース
- アクセシビリティガイドラインに準拠

## 4. 技術要件

### 4.1 システム構成
- **フロントエンド**：HTML5, CSS3, JavaScript
- **バックエンド**：（要検討）
- **データベース**：（要検討）
- **Webサーバー**：（要検討）

### 4.2 ブラウザ対応
- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）

## 5. 制約事項

### 5.1 技術的制約
- 一言の文字数制限：140文字以内
- 写真アップロード：1投稿につき1枚まで
- ファイルサイズ制限：5MB以内

### 5.2 運用制約
- 投稿の公開範囲：個人利用のみ（他ユーザーとの共有機能なし）
- ユーザー認証：現時点では実装対象外

## 6. 今後の拡張予定

### 6.1 機能拡張
- タグ機能の追加
- 投稿の公開・非公開設定
- データのエクスポート機能
- 投稿のバックアップ・復元機能

### 6.2 技術的拡張
- ユーザー認証機能
- クラウドストレージ連携
- PWA（Progressive Web App）対応

---

**作成日**: 2025年9月28日  
**バージョン**: 1.0  
**作成者**: GitHub Copilot